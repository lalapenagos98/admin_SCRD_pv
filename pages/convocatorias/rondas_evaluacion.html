<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>::Rondas de evaluación::</title>

        <!-- Bootstrap Core CSS -->
        <link href="../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

        <!-- MetisMenu CSS -->
        <link href="../../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="../../dist/css/sb-admin-2.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="../../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <!-- validator bootstrap -->
        <link href='../../dist/libraries/bootstrap-validator/bootstrapValidator.css' rel='stylesheet'>

        <!-- DataTables Select CSS -->
        <link href="../../dist/libraries/datatables-select/select.bootstrap.css" rel="stylesheet">
        <!-- DataTables Responsive CSS -->
        <link href="../../dist/libraries/datatables-responsive/dataTables.responsive.css" rel="stylesheet">

        <!-- Bootstrap animate -->
        <link href="../../dist/libraries/bootstrap-notify-3.1.3/animate.css" rel="stylesheet" type="text/css"/>

        <!-- Datepicker animate -->
        <link href="../../dist/libraries/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css"/>

        <!-- Text area editor html -->
        <link type="text/css" rel="stylesheet" href="../../dist/libraries/jQuery-TE_v.1.4.0/jquery-te-1.4.0.css">

        <!-- css principales de la aplicacion -->
        <link href="../../dist/css/main.css" rel="stylesheet" type="text/css"/>

    </head>

    <body>
        <!-- Se quita el modal, debido a bloquea la plagina WILLIAM BARBOSA 2019-07-17 -->

        <div class="loading centrado-porcentual"></div>
        <div id="wrapper">

            <!-- Navigation -->
            <nav id="menu_principal" class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            </nav>

            <div id="page-wrapper">

                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">Convocatorias</h1>
                    </div>
                    <div class="panel-body" style="text-align: right">
                        <button type="button" class="btn btn-default btn-circle btn-lg" onclick="location.href = 'list.html'" title="Atrás"  data-toggle="tooltip" data-placement="top" ><i class="fa fa-arrow-left"></i>
                        </button>
                        <button type="button" class="btn btn-primary btn-circle btn-lg" onclick="location.href = 'list.html'" data-toggle="tooltip" data-placement="top" title="Listado de convovcatorias"><i class="fa fa-list"></i>
                        </button>
                        <button type="button" class="btn btn-success btn-circle btn-lg" data-toggle="tooltip" data-placement="top"  data-target="#nueva_ronda" id="b_nueva_ronda" title="Crear ronda de evaluación" onclick="$('#nueva_ronda').modal('show')"><i class="fa fa-file-o"></i>
                        </button>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>

                <!--Modal de crear ronda-->
                <div class="modal fade" id="nueva_ronda">
                    <div class="modal-dialog">
                        <div class="modal-content">

                            <!-- cabecera del diálogo -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                <h4 class="modal-title">Ronda</h4>
                            </div>

                            <!-- cuerpo del diálogo -->
                            <div class="modal-body">
                                <form id="form_nuevo_ronda" action="" class="form_nuevo_ronda" role="form" method="post">

                                    <div class="row" id="selectCategoria">
                                        <div class="col-lg-12">
                                            <div class="form-group">

                                                <label>Categoría <span class="icono_requerido">*</span>
                                                  <button type="button" class="btn btn-primary btn-circle" data-toggle="tooltip" data-placement="top"
                                                  title="Si la ronda a crear pertenece a una categoría de la convocatoria, se selecciona la categoria. En caso contrario no se selecciona.">
                                                    <i class="fa fa-question"></i>
                                                  </button>
                                                </label>
                                                <select id='select_categoria' name="select_categoria" class="form-control" >
                                                    <option value="">:: Seleccionar ::</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <!--
                                    William Barbosa 2019-07-18
                                    Cuando se crea un formulario es row -> col-lg-x -> form-group -> label y input
                                    -->
                                    <div class="row">
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <label>Número de ronda <span class="icono_requerido">*</span></label>
                                                    <input id="numero_ronda" type="text" name="numero_ronda" class="form-control">
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <label>Nombre de ronda <span class="icono_requerido">*</span>
                                                      <button type="button" class="btn btn-primary btn-circle" data-toggle="tooltip" data-placement="top"
                                                      title="Es el nombre con el cual se identificará la ronda. Emjemplo: Ronda de selección">
                                                        <i class="fa fa-question"></i>
                                                      </button>
                                                    </label>
                                                    <input id="nombre_ronda" type="text" name="nombre_ronda" class="form-control">
                                                </div>
                                            </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <label>Descripción  de ronda <span class="icono_requerido">*</span>
                                                  <button type="button" class="btn btn-primary btn-circle" data-toggle="tooltip" data-placement="top"
                                                  title="Descripción corta sobre la ronda de evaluación">
                                                    <i class="fa fa-question"></i>
                                                  </button>
                                                </label>
                                                <textarea id="descripcion_ronda" name="descripcion_ronda" class="form-control " rows="3"></textarea>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Total de ganadores <span class="icono_requerido">*</span></label>
                                                <input id="total_ganadores" type="text" name="total_ganadores" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Total de suplentes <span class="icono_requerido">*</span></label>
                                                <input id="total_suplentes" type="text" name="total_suplentes" class="form-control">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Fecha inicio de evaluación<span class="icono_requerido">*</span></label>

                                                <div class="input-group date calendario" data-date="" data-date-format="yyyy-mm-dd" data-link-format="yyyy-mm-dd">
                                                    <input class="form-control" id="fecha_inicio_evaluacion" name="fecha_inicio_evaluacion" size="16" type="text" value="" readonly>
                                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Fecha fin de evaluación<span class="icono_requerido">*</span></label>

                                                <div class="input-group date calendario" data-date="" data-date-format="yyyy-mm-dd" data-link-format="yyyy-mm-dd">
                                                    <input class="form-control" id="fecha_fin_evaluacion" name="fecha_fin_evaluacion" size="16" type="text" value="" readonly>
                                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Fecha inicio deliberación<span class="icono_requerido">*</span></label>

                                                <div class="input-group date calendario" data-date="" data-date-format="yyyy-mm-dd" data-link-format="yyyy-mm-dd">
                                                    <input class="form-control" id="fecha_deliberacion" name="fecha_deliberacion" size="16" type="text" value="" readonly>
                                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Tipo de acta <span class="icono_requerido">*</span></label>
                                                <select id='tipo_acta' name="tipo_acta" class="form-control" >
                                                    <option value="">:: Seleccionar ::</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <!--14-09-2020
                                        Wilmer Gustavo Mogollón Duque
                                        Se incorpora tipo de evaluación-->
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Tipo de evaluación <span class="icono_requerido">*</span></label>
                                                <select id='tipo_evaluacion' name="tipo_evaluacion" class="form-control" >
                                                    <option value="">:: Seleccionar ::</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-12" style="text-align: right">
                                            <input type="hidden" id="convocatoria" name="convocatoria" />
                                            <input type="hidden" id="idConvocatoria" name="idConvocatoria" />
                                            <input type="hidden" id="id_registro" name="id_registro" />
                                            <button id="btn_guardar" type="submit" class="btn btn-default">Guardar</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Modal de crear criterio-->
                <div class="modal fade" id="nueva_criterio">
                    <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">

                            <!-- cabecera del diálogo -->
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                <h4 class="modal-title">Criterio</h4>
                            </div>

                            <!-- cuerpo del diálogo -->
                            <div class="modal-body">
                                <form id="form_nuevo_criterio" action="" class="form_nuevo_criterio" role="form" method="post">

                                    <div class="row">
                                        <div class="col-lg-12">
                                          <div class="form-group col-lg-6">
                                              <label>
                                                Grupo<!--span class="icono_requerido">*</span-->
                                                <button type="button" class="btn btn-primary btn-circle" data-toggle="tooltip" data-placement="top"
                                                title="Es el grupo al cual pertenecen el criterio de evaluación. Ejemplo: Grupo 'Nivel Académico', Criterio 'Pregrado' ">
                                                  <i class="fa fa-question"></i>
                                                </button>
                                              </label>
                                              <!--input id="grupo_criterio" type="text" name="grupo_criterio" class="form-control"-->
                                              <textarea class="form-control" rows="3" id="grupo_criterio" name="grupo_criterio" class="form-control"></textarea>
                                          </div>
                                            <div class="form-group col-lg-6">
                                                <label>Criterio<span class="icono_requerido">*</span></label>
                                                <!--input id="descripcion_criterio" type="text" name="descripcion_criterio" class="form-control"-->
                                                <textarea class="form-control" rows="3" id="descripcion_criterio" name="descripcion_criterio" class="form-control"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                          <div class="form-group col-lg-6">
                                              <label>Puntaje mínimo<span class="icono_requerido">*</span>
                                                <button type="button" class="btn btn-primary btn-circle" data-toggle="tooltip" data-placement="top"
                                                title="Es el valor mínimo del rango de evaluación del criterio">
                                                  <i class="fa fa-question"></i>
                                                </button>
                                              </label>
                                              <input id="puntaje_minimo" type="text" name="puntaje_minimo" class="form-control">
                                          </div>
                                          <div class="form-group col-lg-6">
                                              <label>Puntaje máximo<span class="icono_requerido">*</span>
                                                <button type="button" class="btn btn-primary btn-circle" data-toggle="tooltip" data-placement="top"
                                                title="Es el valor máximo del rango de evaluación del criterio">
                                                  <i class="fa fa-question"></i>
                                                </button>
                                              </label>
                                              <input id="puntaje_maximo" type="text" name="puntaje_maximo" class="form-control">
                                          </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="form-group col-lg-6">
                                                <label>Orden<span class="icono_requerido">*</span>
                                                  <button type="button" class="btn btn-primary btn-circle" data-toggle="tooltip" data-placement="top"
                                                  title="Es el orden en el cual debe aparecer el criterio en el formulario de evaluación">
                                                    <i class="fa fa-question"></i>
                                                  </button>
                                                </label>
                                                <input id="orden" type="text" name="orden" class="form-control">
                                            </div>
                                            <!--div class="form-group col-lg-6">
                                                <label>Tipo criterio</label>
                                                <select id='tipo_criterio' name="tipo_criterio" class="form-control" >
                                                    <option value="">:: Seleccionar ::</option>
                                                </select>
                                            </div-->
                                            <div class="form-group col-lg-6" >
                                              <label class="checkbox">
                                                Exclusivo?
                                                <button type="button" class="btn btn-primary btn-circle" data-toggle="tooltip" data-placement="top"
                                                title="Si la opción es marcada, quiere decir que solo se tendrá en cuenta para la evaluación el criterio evaluado, los demás criterios del grupo se excluyen.">
                                                  <i class="fa fa-question"></i>
                                                </button>
                                              </label>
                                              <input type="checkbox" id="exclusivo" name="exclusivo" value="true" >

                                          </div>

                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-12" style="text-align: right">
                                            <input type="hidden" id="id_registro_criterio" name="id_registro_criterio" />
                                            <input type="hidden" id="convocatoria_ronda" name="convocatoria_ronda" />
                                            <button type="submit" class="btn btn-default">Guardar</button>
                                        </div>
                                    </div>

                                    <!-- tabla criterios-->
                                    <div class="row">
                                        <div class="form-group  col-lg-12">
                                            <table id="table_list_criterio" class="table" style="width: 100%;" >
                                                <thead>
                                                    <tr>
                                                        <th>Orden</th>
                                                        <th>Grupo</th>
                                                        <th>Criterio</th>
                                                        <th>Rango</th>
                                                        <th>Exclusivo</th>
                                                        <th>Activo?</th>
                                                        <th>Acciones</th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- tabla criterios-->
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Form principal rondas-->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Rondas de evaluación
                            </div>
                            <div class="panel-body">

                                <form id="form_validator" action="" class="form_validator" role="form" method="post">

                                    <!-- tabla -->
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <table id="table_list" class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Categoria</th>
                                                        <th>Ronda</th>
                                                        <th>Nombre</th>
                                                        <th>Fecha inicio evaluación</th>
                                                        <th>Fecha fin evaluación</th>
                                                        <th>Fecha de deliberación</th>
                                                        <th>Total ganadores</th>
                                                        <th>Total suplentes</th>
                                                        <th>Activo?</th>
                                                        <th>Acciones</th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- tabla -->

                                </form>

                            </div>
                        </div>
                    </div>
                </div>



            </div>
            <!-- /#page-wrapper -->
            <input type="hidden" id="id" value="">
            <input type="hidden" id="limite" value="">
            <input type="hidden" id="total_puntaje_criterios" value="">
            <input type="hidden" id="puntaje_maximo_criterios" value="">




        </div>
        <!-- /#wrapper -->

        <!-- jQuery -->
        <script src="../../vendor/jquery/jquery.min.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="../../vendor/bootstrap/js/bootstrap.min.js"></script>

        <!-- Metis Menu Plugin JavaScript -->
        <script src="../../vendor/metisMenu/metisMenu.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="../../dist/js/sb-admin-2.js"></script>

        <!-- validator bootstrap -->
        <script src='../../dist/libraries/bootstrap-validator/bootstrapValidator.min.js'></script>
        <script src='../../dist/libraries/bootstrap-validator/language/es_ES.js'></script>

        <!-- DataTables -->
        <script src="../../dist/libraries/datatables/js/jquery.dataTables.min.js"></script>
        <script src="../../dist/libraries/datatables-plugins/dataTables.bootstrap.min.js"></script>
        <script src="../../dist/libraries/datatables-responsive/dataTables.responsive.js"></script>
        <script src="../../dist/libraries/datatables-select/dataTables.select.min.js"></script>

        <!-- Bootstrap Notify-->
        <script src="../../dist/libraries/bootstrap-notify-3.1.3/bootstrap-notify.min.js" type="text/javascript"></script>

        <!-- Datepicker animate -->
        <script src="../../dist/libraries/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js" type="text/javascript"></script>
        <script src="../../dist/libraries/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.es.js" type="text/javascript"></script>

        <!-- funcionalidades principales -->
        <script src="https://dev-sso.scrd.gov.co/auth/js/keycloak.js"></script>
        <script src='../../dist/js/main_funcionairo.js'></script>
        <script src='rondas_evaluacion.js'></script>
        <script src='../../dist/js/jquery.loadJSON.js'></script>        


        <!-- Text area editor html -->        
        <script src="../../dist/libraries/ckeditor/ckeditor.js"></script>

    </body>
</html>
